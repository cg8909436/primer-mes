<!--
Archivo: primer_mes.html
Instrucciones: guarda este archivo con ese nombre, √°brelo en el navegador (local) o s√∫belo a GitHub Pages.
Caracter√≠sticas: corazones flotantes aleatorios, coraz√≥n palpitante central, mensaje con fundido, part√≠culas al hacer clic, rastro brillante del cursor, dise√±o responsive, fondo degradado rom√°ntico.
-->

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Primer mes ‚Äî üíñ</title>
  <style>
    :root{
      --bg1:#ffd6e8;
      --bg2:#ffeef6;
      --accent:#ff6fb5;
      --soft:#ffd9ea;
      --text:#4a2b3a;
      --heart-size-min:14px;
      --heart-size-max:48px;
    }
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;}
    body{
      background: linear-gradient(160deg,var(--bg1),var(--bg2));
      overflow:hidden;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      user-select:none; /* evita que salga la opci√≥n copiar al mantener presionado */
      -webkit-user-select:none;
      touch-action:manipulation;
    }

    /* contenedor central */
    .wrap{
      min-height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:20px;
      padding:40px 20px;
      box-sizing:border-box;
    }

    /* coraz√≥n palpitante */
    .big-heart{
      width:140px;
      height:140px;
      display:flex;
      align-items:center;
      justify-content:center;
      transform-origin:center;
      animation:beat 1.1s ease-in-out infinite;
      filter:drop-shadow(0 8px 18px rgba(255,111,181,0.18));
    }
    @keyframes beat{
      0%{transform:scale(1)}
      30%{transform:scale(1.12)}
      45%{transform:scale(1)}
      60%{transform:scale(1.06)}
      100%{transform:scale(1)}
    }

    /* mensaje que aparece gradualmente */
    .card{
      background:rgba(255,255,255,0.7);
      backdrop-filter: blur(6px);
      border-radius:18px;
      padding:18px 22px;
      max-width:720px;
      width:100%;
      box-sizing:border-box;
      box-shadow:0 8px 30px rgba(74,43,58,0.08);
      text-align:left;
      animation:fadeInUp 1.4s ease forwards;
      opacity:0;
      transform:translateY(10px);
      -webkit-tap-highlight-color: transparent;
    }
    @keyframes fadeInUp{
      to{opacity:1;transform:none}
    }
    .card h1{margin:0 0 6px;font-size:20px}
    .card p{margin:0;line-height:1.5;font-size:16px}

    /* contenedor para corazones flotantes (elementos absolutos) */
    .sky{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:1}

    /* corazones peque√±os flotantes generados por JS */
    .floating-heart{
      position:absolute;
      will-change:transform,opacity;
      pointer-events:none;
      opacity:0.95;
      transform-origin:center bottom;
    }

    /* part√≠culas al hacer clic (explosi√≥n de corazones) */
    .particle{
      position:fixed;
      pointer-events:none;
      will-change:transform,opacity;
      z-index:9999;
    }

    /* rastro del cursor */
    .cursor-spark{position:fixed;pointer-events:none;z-index:9998;will-change:transform,opacity}

    /* peque√±o estilo responsive */
    @media (max-width:520px){
      .big-heart{width:110px;height:110px}
      .card{padding:14px;border-radius:14px}
      .card h1{font-size:18px}
      .card p{font-size:15px}
    }

    /* Evitar selecci√≥n de texto en m√≥viles */
    .card *{user-select:none;-webkit-user-select:none}
  </style>
</head>
<body>

  <div class="sky" id="sky"></div>

  <main class="wrap">
    <!-- coraz√≥n grande (SVG) -->
    <div class="big-heart" aria-hidden="true">
      <svg viewBox="0 0 32 29.6" width="100%" height="100%" preserveAspectRatio="xMidYMid meet">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0%" stop-color="#ff9ccf" />
            <stop offset="100%" stop-color="#ff6fb5" />
          </linearGradient>
        </defs>
        <path d="M23.6 0c-2.9 0-4.9 1.7-6 3.2C16.4 1.7 14.4 0 11.5 0 6.8 0 3 3.6 3 8.2c0 5.9 6.1 10.3 15.1 18.2L16 29.6l1.9-3.2C22.9 18.5 29 14.1 29 8.2 29 3.6 25.2 0 20.5 0z" fill="url(#g)"/>
      </svg>
    </div>

    <!-- tarjeta con el mensaje (aparece con animaci√≥n) -->
    <section class="card" id="card">
      <h1>Hoy cumplimos nuestro primer mes, mi amor ü•∞</h1>
      <p id="message"></p>
    </section>

    <small style="opacity:.7;font-size:13px">Toca o haz clic para ver m√°s magia ‚ú®</small>
  </main>

  <script>
    /* --- Texto del mensaje --- */
    const texto = `Y aunque ha pasado r√°pido, cada momento contigo ha sido especial. Me encanta c√≥mo poco a poco nos hemos ido conociendo, c√≥mo tu voz me calma y c√≥mo tu forma de ser me hace sentir tan bien.\n\nGracias por todo lo bonito que me das, por tu cari√±o, tu ternura y por hacerme sentir tan afortunado de tenerte. Este primer mes es solo el comienzo de algo muy lindo, y quiero seguir construyendo a tu lado cada d√≠a üíñ.\n\nTe amo much√≠simo, mi amor ‚ù§Ô∏è`;

    /* --- Reveal gradual del mensaje (escritura suave) --- */
    (function revealMessage(){
      const el = document.getElementById('message');
      let i=0;
      const speed = 20; // ms por caracter. m√≥vil-friendly
      function step(){
        el.textContent = texto.slice(0,i);
        i++;
        if(i<=texto.length){
          requestAnimationFrame(()=>setTimeout(step,speed));
        }
      }
      // empezar despu√©s de una peque√±a pausa
      setTimeout(step,700);
    })();

    /* --- Generaci√≥n de corazones flotantes aleatorios --- */
    const sky = document.getElementById('sky');
    const minSize = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--heart-size-min')) || 14;
    const maxSize = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--heart-size-max')) || 48;

    function makeFloatingHeart(){
      const h = document.createElement('div');
      h.className = 'floating-heart';
      const size = Math.round(Math.random()*(maxSize-minSize)+minSize);
      const left = Math.random()*100; // porcentaje
      const duration = 6000 + Math.random()*9000; // ms
      const delay = Math.random()*1200;

      h.style.width = size+'px';
      h.style.height = (size * 0.9)+'px';
      h.style.left = left + '%';
      h.style.bottom = '-10%';
      h.style.opacity = (0.6 + Math.random()*0.4).toFixed(2);
      h.style.transform = `translateY(0) rotate(${(Math.random()*40-20)}deg)`;

      // SVG coraz√≥n dentro
      h.innerHTML = `<svg viewBox="0 0 32 29.6" width="100%" height="100%" aria-hidden="true"><path d="M23.6 0c-2.9 0-4.9 1.7-6 3.2C16.4 1.7 14.4 0 11.5 0 6.8 0 3 3.6 3 8.2c0 5.9 6.1 10.3 15.1 18.2L16 29.6l1.9-3.2C22.9 18.5 29 14.1 29 8.2 29 3.6 25.2 0 20.5 0z" fill="rgba(255,111,181,0.9)"/></svg>`;

      sky.appendChild(h);

      // animar con JS para obtener distintas curvas
      const start = performance.now() + delay;
      function animate(t){
        const elapsed = t - start;
        if(elapsed < 0){ requestAnimationFrame(animate); return; }
        const prog = Math.min(1, elapsed / duration);
        // movimiento vertical (ease-out)
        const y = - (prog * (window.innerHeight + 200));
        // desplazamiento lateral oscilante
        const x = Math.sin(prog * Math.PI * (0.5 + Math.random()*1.5)) * 40;
        h.style.transform = `translate(${x}px, ${y}px) rotate(${prog*360}deg)`;
        h.style.opacity = String(1 - prog);
        if(prog < 1){
          requestAnimationFrame(animate);
        } else {
          h.remove();
        }
      }
      requestAnimationFrame(animate);
    }

    // generar corazones continuamente
    let spawnInterval = setInterval(makeFloatingHeart, 700);
    // al iniciar, crear algunos
    for(let i=0;i<6;i++){ setTimeout(makeFloatingHeart, i*200); }

    /* --- Part√≠culas interactivas al hacer clic / tocar --- */
    function makeClickExplosion(x,y){
      const count = 14;
      for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className='particle';
        const size = 8 + Math.random()*12;
        p.style.width = size+'px'; p.style.height = (size*0.9)+'px';
        p.style.left = (x - size/2) + 'px';
        p.style.top = (y - size/2) + 'px';
        p.innerHTML = `<svg viewBox="0 0 32 29.6" width="100%" height="100%"><path d="M23.6 0c-2.9 0-4.9 1.7-6 3.2C16.4 1.7 14.4 0 11.5 0 6.8 0 3 3.6 3 8.2c0 5.9 6.1 10.3 15.1 18.2L16 29.6l1.9-3.2C22.9 18.5 29 14.1 29 8.2 29 3.6 25.2 0 20.5 0z" fill="rgba(255,111,181,0.95)"/></svg>`;
        document.body.appendChild(p);

        // direcci√≥n aleatoria
        const angle = Math.random()*Math.PI*2;
        const speed = 40 + Math.random()*120;
        const vx = Math.cos(angle)*speed;
        const vy = Math.sin(angle)*speed;
        const start = performance.now();
        const life = 700 + Math.random()*700;
        function anim(t){
          const prog = Math.min(1,(t-start)/life);
          p.style.transform = `translate(${vx*prog}px, ${vy*prog - prog*prog*60}px) rotate(${prog*720}deg) scale(${1-prog*0.25})`;
          p.style.opacity = String(1-prog);
          if(prog<1) requestAnimationFrame(anim); else p.remove();
        }
        requestAnimationFrame(anim);
      }
      // tambi√©n lanzar algunos corazones grandes hacia arriba para √©nfasis
      for(let j=0;j<2;j++){
        makeFloatingHeartAt(x,y);
      }
    }

    function makeFloatingHeartAt(px,py){
      const h = document.createElement('div');
      h.className='floating-heart';
      const size = 22 + Math.random()*28;
      h.style.width = size+'px'; h.style.height = (size*0.9)+'px';
      h.style.left = (px - size/2) + 'px';
      h.style.bottom = 'auto';
      h.style.top = (py - size/2) + 'px';
      h.style.opacity = 1;
      h.style.transform = `translateY(0)`;
      h.innerHTML = `<svg viewBox="0 0 32 29.6" width="100%" height="100%"><path d="M23.6 0c-2.9 0-4.9 1.7-6 3.2C16.4 1.7 14.4 0 11.5 0 6.8 0 3 3.6 3 8.2c0 5.9 6.1 10.3 15.1 18.2L16 29.6l1.9-3.2C22.9 18.5 29 14.1 29 8.2 29 3.6 25.2 0 20.5 0z" fill="rgba(255,160,190,0.95)"/></svg>`;
      document.body.appendChild(h);

      const duration = 2200 + Math.random()*1600;
      const start = performance.now();
      const dx = (Math.random()*80-40);
      function anim(t){
        const prog = Math.min(1,(t-start)/duration);
        const y = - prog * (window.innerHeight * 0.5 + 200);
        h.style.transform = `translate(${dx*prog}px, ${y}px) rotate(${prog*360}deg)`;
        h.style.opacity = String(1-prog);
        if(prog<1) requestAnimationFrame(anim); else h.remove();
      }
      requestAnimationFrame(anim);
    }

    // manejar clic/tap
    function pointerHandler(e){
      const x = e.clientX || (e.touches && e.touches[0] && e.touches[0].clientX) || (window.innerWidth/2);
      const y = e.clientY || (e.touches && e.touches[0] && e.touches[0].clientY) || (window.innerHeight/2);
      makeClickExplosion(x,y);
    }
    window.addEventListener('click', pointerHandler);
    window.addEventListener('touchstart', function(e){ pointerHandler(e); }, {passive:true});

    /* --- Rastro brillante del cursor --- */
    let cursorQueue = [];
    function makeSpark(x,y){
      const s = document.createElement('div');
      s.className='cursor-spark';
      const size = 6 + Math.random()*8;
      s.style.width = size+'px'; s.style.height = size+'px';
      s.style.left = (x - size/2) + 'px';
      s.style.top = (y - size/2) + 'px';
      s.style.opacity = '0.95';
      s.innerHTML = `<svg viewBox="0 0 8 8" width="100%" height="100%"><circle cx="4" cy="4" r="4" fill="rgba(255,255,255,0.9)" /></svg>`;
      document.body.appendChild(s);
      const start = performance.now();
      const life = 500 + Math.random()*600;
      function anim(t){
        const prog = Math.min(1,(t-start)/life);
        s.style.transform = `translateY(${ -prog*10 }px) scale(${1-prog*0.5})`;
        s.style.opacity = String(1-prog);
        if(prog<1) requestAnimationFrame(anim); else s.remove();
      }
      requestAnimationFrame(anim);
    }

    let lastMove = 0;
    window.addEventListener('mousemove', function(e){
      const now = performance.now();
      // limitar frecuencia para rendimiento
      if(now - lastMove > 30){
        makeSpark(e.clientX, e.clientY);
        lastMove = now;
      }
    });
    // en m√≥viles, seguir el touchmove
    window.addEventListener('touchmove', function(e){
      if(e.touches && e.touches[0]) makeSpark(e.touches[0].clientX, e.touches[0].clientY);
    }, {passive:true});

    /* --- Ajustes de desempe√±o cuando la pantalla es peque√±a --- */
    function adaptToSize(){
      if(window.innerWidth < 420){
        // reducir cantidad de corazones en m√≥viles
        if(spawnInterval) clearInterval(spawnInterval);
        spawnInterval = setInterval(makeFloatingHeart, 1100);
      } else {
        if(spawnInterval) clearInterval(spawnInterval);
        spawnInterval = setInterval(makeFloatingHeart, 700);
      }
    }
    window.addEventListener('resize', adaptToSize);
    adaptToSize();

    /* evitar men√∫ contextual (evita "copiar" al mantener presionado en m√≥viles) */
    window.addEventListener('contextmenu', function(e){ e.preventDefault(); });

    /* peque√±os consejos: si quieres que el mensaje se revele m√°s lento/r√°pido,
       cambia speed en la secci√≥n revealMessage */
  </script>
</body>
</html>
